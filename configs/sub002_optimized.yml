# Configuración optimizada para sub-002
# Basada en diagnóstico de calidad de datos

# ICA configuration - más conservador
ica:
  enabled: false  # Deshabilitado para QA - los datos tienen buena calidad sin ICA
  n_components: 20  # Si se habilita, usar 20 componentes fijos
  random_state: 42
  max_iter: 1000
  eog_threshold: 0.9  # Más estricto para evitar falsos positivos
  emg_threshold: 2.5  # Más estricto
  min_components: 15
  max_bad_channels_for_skip: 3  # Skip ICA si hay <=3 bad channels

# Filter configuration
filters:
  eeg_bandpass_low_hz: 1.0
  eeg_bandpass_high_hz: 40.0
  fnirs_bandpass_low_hz: 0.01
  fnirs_bandpass_high_hz: 0.5
  cardiac_band_low_hz: 0.5
  cardiac_band_high_hz: 2.5

# Quality thresholds - más permisivos para estos datos
quality:
  sci_threshold: 0.5  # Reducido de 0.75 (datos tienen SCI ~0.556)
  cv_threshold_percent: 15.0
  saturation_percent: 5.0
  psp_threshold: 0.1
  short_channel_distance_mm: 15.0

# Epoch configuration - Extended to 20s to capture beta rebound
epochs:
  eeg_tmin_sec: -3.0
  eeg_tmax_sec: 20.0  # Extended from 15s to capture beta rebound (15-20s)
  fnirs_tmin_sec: -3.0
  fnirs_tmax_sec: 20.0  # Extended from 15s for consistency
  baseline_tmin_sec: -3.0
  baseline_tmax_sec: -1.0

# Analysis configuration
analysis:
  alpha_band_low_hz: 8.0
  alpha_band_high_hz: 13.0
  beta_band_low_hz: 13.0
  beta_band_high_hz: 30.0
  task_window_start_sec: 1.0
  task_window_end_sec: 14.0  # Task ends at 15s, analyze up to 14s
  baseline_window_start_sec: -3.0
  baseline_window_end_sec: -1.0
  hrf_onset_window_start_sec: 2.0
  hrf_onset_window_end_sec: 3.0
  hrf_peak_window_start_sec: 4.0
  hrf_peak_window_end_sec: 8.0
  beta_rebound_window_start_sec: 15.0  # Beta rebound after task ends
  beta_rebound_window_end_sec: 20.0
  dpf: 6.0

# Motion correction
motion_correction:
  method: tddr
  wavelet_name: db4
  wavelet_threshold: 0.1

# Paths
data_root: data/raw
output_root: data/derivatives/validation-pipeline

# Random seed
random_seed: 42
